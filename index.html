<!DOCTYPE html>
<html>
<head>
<title>Schemer</title>
<script src="schemer.js"></script>
<script type="text/javascript">window.onload = main;</script>
<!-- <meta name="viewport" content="width=320"> -->
<!-- <link rel="stylesheet" type="text/css" href="foo.css"> -->
<style type="text/css">
textarea {font-family: monospace;}
</style>
</head>

<body>
<label for="input"><div>input</div></label>
<textarea id="input" rows="20" cols="80">
(define multirember
  (lambda (a lat)
    (if (null? lat)
      '()
      (if (eq? a (car lat))
        (multirember a (cdr lat))
        (cons (car lat)
              (multirember
                a (cdr
                    lat)))))))

(list
  (multirember 'foo '(foo foo bar baz foo foo quux quuux))
  (multirember 'foo '(bar baz foo foo quux quuux foo foo)))

((lambda (a b)
   (list
     ((lambda (b c)
        (begin
          (set! a 'out)
          (set! b 'in)
          (set! c 'in)
          (list 'inside a b c)))
      'inbefore 'inbefore)
     (list 'outside a b)))
 'outbefore 'outbefore)

; Returns the sum of natural numbers up to n:
(define sigma
  (lambda (n)
    (if (eq? n 0)
      0
      (+ n (sigma (+ n -1))))))

(car (cdr (list 'blub (sigma 10) 'blub)))

(define jump42
  (lambda (l cont)
    (if (null? l)
      #f
      (if (eq? 42 (car l))
        (cont 42)
        (jump42 (cdr l) cont)))))

(letcc cc (jump42 '(1 2 3 42 43) cc))

((lambda (n outercont)
   (begin
     ; Grab a continuation and give it a name in a containing scope:
     (letcc innercont
            (set! outercont innercont))
     ;(alert 'letcc 'just 'returned 'and 'n 'is n)
     (set! n (+ 1 n))
     (if (eq? n 10)
       n
       ; Call the continuation again so letcc will return again, after
       ; which n will be incremented again:
       (outercont #f))))
 0 #f)
</textarea>

<p>
<button id="button" type="button" title="Shift+Enter">eval</button>
</p>

<label for="output"><div>output</div></label>
<textarea id="output" rows="20" cols="80">
</textarea>
</body>
</html>
